# http code

------

HTTP(Hypertext Transfer Protocol)是应用级协议，适应了分布式超媒体写作系统对灵活性及速度的要求，通过对其请求方法(request methods)进行扩展，可用于多种用途，如命名服务器(name server)及分布式对象管理系统。


**方法定义(Method Definitions)**

1. GET

GET方法就是以实体方式得到由请求URI所指定资源的信息。如果请求的URI只是一个数据产生过程，那么最重要在回应实体中返回的是该处理过程的结果所指向的资源，而不是返回该处理过程的描述文字。
如果请求消息包含`If-Modified-Since`标题域，GET方法的语法就变成"条件GET"，即"conditional GET"。条件GET方法可以对指定资源进行判断，如果在"If-Modified-Since"标题域中指定的日期后发生了更新，才启动传输，否则不传输，有助于降低网络负载

2. HEAD

HEAD和GET方法一样，区别在于，HEAD方法不让服务器在回应中返回任何实体。堆HEAD请求的回应部分来说，它的HTTP标题中包含的元信息与通过GET请求所得到的是相同的。

3. POST

POST方法是用来想目的服务器发出请求，要求它接受被附在请求后的实体，并把它当做请求队列(Request-Line)中请求URI所指定资源的附加新子项。POST被设计成用统一的方法实现下列功能:
+ 对现有资源的注释(Annotation of existing resources);
+ 向电子公告栏，新闻组，邮件列表或类似讨论组发送消息
+ 提交数据块，如将表格(form)的结果提交给数据处理过程
+ 通过附加操作来扩展数据库
POST方法的实际功能是由服务器来决定的，而且通常依赖于请求URI。在POST过程中，实体是URI的从属部分。
成功的POST不需要在原始服务器创建实体，并将其作为资源，也不需要为未来的访问提供条件。也就是说，POST方法不一定会指向URI指定的资源。在这种情况下，200或204(无内容)都是适当的回应状态，取决于实际回应实体中对结果的描述。如果在原始服务器上创建了资源，回应应是201(已创建)，并包含一个实体(对"text/html"类型最为适合)，该实体中记录着对新资源请求的状态描述。
在所有的HTTP/1.0的POST请求中，必须指定合法的内容长度(Content-Length)。如果HTTP/1.0服务器在接收到请求内容消息时无法确定其长度，就会返回400(非法请求)代码。
应用程序不能缓存堆POST请求的回应，因为作为应用程序来说，它们不知道服务器在未来的请求中将如何回应。


4. PUT

和POST方法很像，也是向服务器提交数据。不同的是，PUT指定了资源在服务器上的位置，而POST没有，PUT方法请求服务器去把请求里的实体存储在请求URI(Request-URI)标识下。如果请求URI(Request-URI)指定的资源已经在源服务器上存在，那么此请求里的实体应该被当作是源服务器关于此URI所指定的资源实体的最新版本。如果请求URI(Request-URI)指定的资源不存在，并且此URI被用户代理定义为一个新资源，那么源服务器就应该根据请求里的实体创建一个此URI所标识下的资源。如果一个 新的资源被创建，源服务器必须能向用户代理(user agent)发送201(已创建)响应。如果已存在的资源被改变，那么源服务器应该发送200(OK)或204(无内容)响应。实体的接收者不能忽略任何它不理解和不能实现的Content-*(如Content-Range)头域，并且必须返回501(没有被实现)响应。
PUT方法的响应是不可被缓存的。POST和PUT方法请求最根本的区别是请求URI(Request-URI)的含义不同。POST请求里的URI指示一个能处理实体的资源(如一段程序，jsp里的servlet)。此资源可能是一个数据接收过程，一个网关(网关和代理的区别是：网关可以进行协议转换，而代理不能，只能起代理的作用，如缓存服务器就是一个代理)，或者一个单独接收注释的实体。对此而言，PUT方法请求里的URI标识请求里封装的实体--用户代理知道URI意指什么，并且服务器不能把此请求应用于其他资源(resource)。如果服务器期望请求被应用于一个不同的URI，那么必须发送301(永久移动)响应；用户代理可以自己决定是否重定向请求。一个单独的资源可能会被许多不同的URI指定。


5. DELETE

删除服务器上的某个资源


6. OPTIONS

用于获取当前URI所支持的方法。如果请求成功，会有一个Allow的头包含类似"GET,POST"这样的信息


7. TRACE

TRACE方法被用于激发一个远程的，应用层的请求消息回路(TRACE方法让客户端测试到服务器的网络通路，回路的意思如发送一个请求返回一个响应，这就是一个请求响应回路)
最后的接收者也许是源服务器，也许是接收到包含Max-Forwards头阈值为0请求的代理或网关。TRACE请求不能包含一个实体，TRACE方法允许客户端去了解数据被请求链的另一端接收的情况，并且利用那些数据信息去测试或诊断。Via头阈值有特殊的用途，因为它可以作为请求链的跟踪信息。利用Max-Forwards头阈允许客户端限制请求链长度，这是非常有用的，因为可以利用此去测试代理链在无限循环里转发消息。如果请求是有效的，响应应该在实体主体里包含整个请求消息，并且响应应该包含一个Content-Type头阈值为"message/http"的头阈。此方法的响应不能被缓存


8. CONNECT

把请求连接转换到透明的TCP/IP通道


------

**状态码定义(Status Code Definitions)**

消息1xx(informational 1xxx)
该类状态代码用于表示临时回应。临时回应由状态行(Status-Line)即可选标题组成，由空行终止。HTTP/1.0中没有定义任何1xx的状态代码。


**成功2xx(Successful 2xx)**

表示客户端请求被成功接收，理解，接收。

200 OK
请求成功

201 Created
请求完成，结果是创建了新资源。新创建资源的URI可在回应的实体中得到。原始服务器应在发出该状态代码前创建该资源，如果该操作不能立即完成，服务器必须在该资源可用时在回应主体中给出提示，否则，服务器端回应202(可被接受)。

202 Accepted
请求被接受，但处理尚未完成。请求可能不一定会最终完成，有可能被处理过程随时中断，在这种情况下，没有办法在异步操作中重新发送状态代码。202回应是没有义务的，这样做的目的是允许服务器不必等到用户代理和服务器间的连接结束，就可以响应其他过程的请求,在某些回应中返回的实体中包括当前请求的状态指示，状态监视器指针或用户队请求能否实现的评估信息

204 No Content
服务器端已经实现了请求，但是没有返回新的信息。如果客户端是用户代理，则勿需为此更新自身的文档视图。该回应主要是为了在影响用户代理激活文档视图的前提下，进行script语句的输入及其它操作。


**重定向3xx(Redirection 3xx)**
该类状态码表示用户代理要想完成请求还需要发出进一步的操作。这些操作只有当后跟的请求是GET或HEAD时，才可由用户代理来实现，而不用与用户进行交互。用户代理永远也不要对请求进行5次以上的重定向操作，这样可能会导致无限循环。

300 Multiple Choices
多状态选择，请求的资源可包括多个位置，相应可返回一个资源特征与地址的列表用于用户终端选择

301 Moved Permanently 
永久移动，请求的资源已被永久的移动到新URI，返回信息会包括新的URI，浏览器会自动重定向到新URI。今后任何新的请求都应使用新的URI代替

302 Found 
临时移动，与301类似，但资源只是临时被移动，客户端应继续使用原有URI

303 See Other 
查看其它地址，与301类似，使用GET，POST请求查看

304 Not Modified 
未修改，所请求的资源未修改，服务器返回此状态码时，不会返回任何资源。客户端通常会缓存访问过的资源，通过提供一个头信息指出客户端希望只返回在指定日志之后修改的资源。

305 Use Proxy
使用代理，所请求的资源必须通过代理访问

306 Unused
已经被废弃的HTTP状态码

307 Temporary Redirect
临时重定向，与302类似，使用GET请求重定向


**客户端错误(4xx)**

400 Bad Request
客户端请求的语法错误，服务器无法理解

401 Unauthorized 
请求要求用户的身份认证

402 Payment Required
保留，将来使用

403 Forbidden
服务器理解客户端的请求，但是拒绝执行此请求

404 Not Found
服务器无法根据客户端的请求找到资源

405 Method Not Allowed
客户端请求中的方法被禁止

406 Not Acceptable Proxy
服务器无法根据客户端请求的内容特性完成请求

407 Authentication Required
请求要求代理的身份认证，与401类似，但请求者应当使用代理进行授权

408 Request Time-out
服务器等待客户端发送的请求时间过长，超时

409 Conflict
服务器完成客户端的PUT请求可能是返回此代码，服务器处理请求时发生了冲突

410 Gone
客户端请求的资源已经不存在。410不同于404，如果资源以前有现在被永久删除了可使用410代码

411 Length Required 
服务器无法处理客户端发送的不带Content-Length的请求信息

412 Precondition Failed 
客户端请求信息的先决条件错误

413 Request Entity Too Large
由于请求的实体过大，服务器无法处理，因此拒绝请求。为防止客户端的连续请求，服务器可能会关闭连接。如果只是服务器暂时无法处理，则会包含一个Retry-After的响应信息

414 Request-URI Too Large
请求的URI过长(URI通常为网址)服务器无法处理

415 Unsupported Media Type
服务器无法处理请求附带的媒体格式

416 range out satisfiable
客户端请求的范围无效

417 Expectation Failed 
服务器无法满足Expect的请求头信息

428 Precondition Required(要求先决条件)
先决条件是客户端发哦少年宫HTTP请求时，如果想要请求能成功必须满足一些预设的条件

429 Too Many Requests(太多请求)
当需要限制客户端请求某个服务数量时，该状态码就很有用，也就是请求速度限制

431 RequestHeader Fields Too Large(请求头字段太大)
某些情况下，客户端发送HTTP请求头会变得很大，那么服务器可能会发送431 Request Header Fields Too Large说明该问题



**服务器错误**

500 Internal Server Error
服务器内部错误，无法完成请求

501 Not Implemented
服务器不支持请求的功能，无法完成请求

502 Bad Gateway 
充当网关或代理的服务器，从远端服务器收到一个无效的请求

503 Server Unavailable
由于超载或系统维护，服务器暂时的无法处理客户端的请求。延时的长度可包含在服务器的Retry-After头信息中

504 Gateway Timeout
充当网关或代理的服务器，未及时从远端服务器获取请求

505 HTTP Version not Supported
服务器不支持请求的HTTP协议的版本，无法完成处理

511 Network Authentication Required(要求网络认证)
